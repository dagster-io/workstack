name: erk
version: 0.2.1
description: Erk implementation workflow commands for creating worktrees from plans (.PLAN.md) and executing implementation. Includes commands for plan creation, execution, and quick access.
license: MIT
artifacts:
  command:
    - commands/erk/persist-plan.md
    - commands/erk/enhance-and-save-plan.md
    - commands/erk/save-plan.md
    - commands/erk/create-planned-wt.md
    - commands/erk/implement-plan.md
    - commands/erk/fix-merge-conflicts.md
  doc:
    - docs/erk/EXAMPLES.md
kit_cli_commands:
  - name: enhance-and-save-plan
    path: kit_cli_commands/erk/enhance_and_save_plan.py
    description: Create enhanced implementation plan from session logs (two-phase - discover and assemble)
  - name: find-project-dir
    path: kit_cli_commands/erk/find_project_dir.py
    description: Find Claude Code project directory for a given filesystem path
  - name: session-id-injector-hook
    path: kit_cli_commands/erk/session_id_injector_hook.py
    description: Inject session ID into conversation context for plan creation
  - name: preprocess-session
    path: kit_cli_commands/erk/preprocess_session.py
    description: Compress JSONL session logs to XML format, auto-discovering agent logs for comprehensive preprocessing
hooks:
  - id: session-id-injector-hook
    lifecycle: UserPromptSubmit
    matcher: "*"
    invocation: dot-agent run erk session-id-injector-hook
    description: Injects session ID into context when /erk:enhance-and-save-plan is invoked
    timeout: 30
